{% extends 'home/base.html' %}
{% block nav %}<a class="btn btn-secondary" href="{% url 'post_detail' post.pk %}"><i class="bi bi-arrow-90deg-left"></i></a>{% endblock %}
{% block label %}NEWS{% endblock %}
{% block icon %}<a class="btn btn-secondary" href="#"><i class="bi bi-filetype-py"></i></a>{% endblock %}
{% block content %}
<div class="card" style="margin: auto; text-align: center; border: 0px;">
    <h3 class="card-title">Edit post</h3>
    <form enctype="multipart/form-data" form action="" method="post">
		{% csrf_token %}
		<input type="text" name="title" value="{{ post.title }}" max="30" class="form-control mb-2" placeholder="Title" required id="id_title">
		<input type="file" name="image" accept="image/*" class="form-control mb-2" id="id_image">
		<img class="card-img mb-2" src="{{ post.image.url }}" id="image_prev">
		<textarea name="body" cols="40" rows="4" class="form-control mb-2" placeholder="Input your text" required id="id_body"></textarea>
		<button class="btn btn-secondary" type="submit">Update</button>
    </form>
	<script>
		id_image.onchange = evt => {
			const [file] = id_image.files
			if (file) {
			  image_prev.src = URL.createObjectURL(file)
			}
		  }
	</script>
</div>
{% endblock content %}